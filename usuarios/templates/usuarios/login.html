{% extends 'usuarios/base.html' %}
{% load static %}

{% block title %}Iniciar SesiÃ³n | TextilTrack{% endblock %}

{% block content %}
<div class="center-wrapper">

    <form method="POST" class="card-form">
        {% csrf_token %}

        <!-- TÃ­tulo -->
        <h2 class="form-title">Iniciar SesiÃ³n</h2>

        <!-- Mensajes -->
        {% if messages %}
            {% for message in messages %}
                <div class="alert-message">{{ message }}</div>
            {% endfor %}
        {% endif %}

        <!-- Campo Email -->
        <label for="email">Correo ElectrÃ³nico</label>
        <input type="email" name="email" placeholder="ejemplo@gmail.com" required>

        <!-- Campo Password -->
        <label for="password">ContraseÃ±a</label>
        <div style="position: relative;">
            <input type="password" id="password" name="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required style="padding-right: 40px;">
            <button type="button" id="togglePassword" style="position: absolute; right: 5px; top: 50%; transform: translateY(-50%);">
                ðŸ™‰
            </button>
        </div>

        <!-- BotÃ³n -->
        <button class="btn btn-primary" type="submit">Ingresar</button>

        <!-- Enlaces -->
        <p class="form-links">
            Â¿No tienes una cuenta?
            <a href="{% url 'registro' %}">Crear cuenta</a>
        </p>

        <p class="form-links">
            Â¿Olvidaste tu contraseÃ±a?
            <a href="{% url 'password_reset_request' %}">Restablecer</a>
        </p>

    </form>

</div>

<!-- Script para mostrar/ocultar contraseÃ±a -->
<script>
    const togglePassword = document.querySelector('#togglePassword');
    const passwordField = document.querySelector('#password');

    togglePassword.addEventListener('click', function () {
        const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordField.setAttribute('type', type);
        this.textContent = type === 'password' ? 'ðŸ™ˆ' : 'ðŸ™‰';
    });
</script>

{% endblock %}

